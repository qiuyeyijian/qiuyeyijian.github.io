<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git | 秋叶依剑的官方博客</title>
    <meta name="description" content="秋叶依剑的官方博客">
    <link rel="preload stylesheet" href="/assets/style.ff2d27ee.css" as="style">
    <link rel="modulepreload" href="/assets/app.f8393eb1.js">
    <link rel="modulepreload" href="/assets/Tools_Git_index.md.2f4d1a1a.lean.js">
    
    <link rel="icon" href="/logo.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-93a960b4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-93a960b4 data-v-790c334c><div class="VPNavBar" data-v-790c334c data-v-eda5fd6f><div class="container" data-v-eda5fd6f><div class="title" data-v-eda5fd6f><div class="VPNavBarTitle" data-v-eda5fd6f data-v-6d2fb2d9><a class="title" href="/" data-v-6d2fb2d9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-6db2186b><!--]--><!--[-->秋叶依剑<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-eda5fd6f><div class="curtain" data-v-eda5fd6f></div><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-eda5fd6f data-v-bdedfc22><span id="main-nav-aria-label" class="visually-hidden" data-v-bdedfc22>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Linux/" data-v-bdedfc22 data-v-95f5d58b data-v-3c355974><!--[-->Linux<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Computer/" data-v-bdedfc22 data-v-95f5d58b data-v-3c355974><!--[-->计算机基础<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 编程语言 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-a5bbb52c><a class="VPLink link" href="/Language/CPP/" data-v-a5bbb52c data-v-3c355974><!--[-->CPP<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 工具&amp;效率 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-a5bbb52c><a class="VPLink link active" href="/Tools/Git/" data-v-a5bbb52c data-v-3c355974><!--[-->Git<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-a5bbb52c><a class="VPLink link" href="/Tools/Docker/" data-v-a5bbb52c data-v-3c355974><!--[-->Docker<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-eda5fd6f data-v-da3f667a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-da3f667a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-eda5fd6f data-v-2ab2a029 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/qiuyeyijian/qiuyeyijian.github.io" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-eda5fd6f data-v-f38c483a data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96001b6b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96001b6b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-f38c483a><div class="item appearance" data-v-f38c483a><p class="label" data-v-f38c483a>Appearance</p><div class="appearance-action" data-v-f38c483a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-f38c483a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-f38c483a><div class="item social-links" data-v-f38c483a><div class="VPSocialLinks social-links-list" data-v-f38c483a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/qiuyeyijian/qiuyeyijian.github.io" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-eda5fd6f data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-93a960b4 data-v-0bd490fb><div class="VPDoc has-aside" data-v-0bd490fb data-v-c5936a1e><div class="container" data-v-c5936a1e><div class="aside" data-v-c5936a1e><div class="aside-curtain" data-v-c5936a1e></div><div class="aside-container" data-v-c5936a1e><div class="aside-content" data-v-c5936a1e><div class="VPDocAside" data-v-c5936a1e data-v-cdc66372><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-cdc66372 data-v-0627715d><div class="content" data-v-0627715d><div class="outline-marker" data-v-0627715d></div><div class="outline-title" data-v-0627715d>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-0627715d><span class="visually-hidden" id="doc-outline-aria-label" data-v-0627715d> Table of Contents for current page </span><ul class="root" data-v-0627715d data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cdc66372></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c5936a1e><div class="content-container" data-v-c5936a1e><!--[--><!--]--><main class="main" data-v-c5936a1e><div style="position:relative;" class="vp-doc _Tools_Git_index" data-v-c5936a1e><div><h1 id="git" tabindex="-1">Git <a class="header-anchor" href="#git" aria-hidden="true">#</a></h1><blockquote><p>学习 Git 时记录的一些笔记。随着学习的不断深入，会不断对文章进行修改。</p></blockquote><h2 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-hidden="true">#</a></h2><h3 id="本地仓库" tabindex="-1">本地仓库 <a class="header-anchor" href="#本地仓库" aria-hidden="true">#</a></h3><p>工作区：工作区就是我们能看到的目录，它持有实际文件。</p><p>版本库：工作区有一个隐藏目录.git，这个不是工作区，是 Git 的版本库。版本库里会有暂存区，以及 Git 自动创建的第一个分支 master，以及指向 master 的一个指针叫 HEAD。</p><p>暂存区，stage（或者叫 index），存放在 &quot;.git 目录下&quot; 下的 index 文件（.git/index）中。它像个缓存区域，临时保存你的改动；</p><p>HEAD，它指向你最后一次提交的结果。</p><p><img src="/assets/image-20220629113114459.09f42cd7.png" alt="image-20220629113114459"></p><p>可以说，版本控制的本质就是对文件版本的控制。对文件进行各种操作的前提是，明确文件所在的状态。在 git 中通过<code>git status</code>指令来查看当前所有文件的状态。若你的版本库与工作区的文件快照完全相同，即所有文件均处于<code>Unmodify</code>状态，则执行<code>git status</code>会提示：<code>working tree clean</code>。</p><h3 id="文件状态" tabindex="-1">文件状态 <a class="header-anchor" href="#文件状态" aria-hidden="true">#</a></h3><p>**Untracked：**未跟踪：此文件存在于项目文件夹中，但并未添加到版本库，所以不会参与版本控制，使用<code>git add filename</code>指令来将文件状态转换为 Staged。</p><p>**Unmodify：**文件已入版本库，未修改，也就是说该文件与版本库中文件快照完全一致。这种状态下的文件有两种去处：使用<code>git rm filename</code>指令来将文件移出版本库，状态变为 Untracked；或者修改该文件，状态变为 Modified。</p><p>**Modified：**文件已经被修改（仅是修改，并无其它操作），意味着该文件与版本库的文件快照不相同，这种状态下的文件也有两种去处：使用指令<code>git add filename</code> 将该文件存入暂存区，状态变为 Staged；或者使用指令<code>git checkout</code>丢弃修改，状态变为 Unmodify。</p><p>**Staged：**暂存状态，文件被储存在暂存区。使用指令<code>git commit</code>将文件提交到版本库，状态变为 Unmodify；或者使用指令<code>git reset HEAD filename</code>来取消暂存状态，状态变为 Modified。</p><h2 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-hidden="true">#</a></h2><h3 id="全局配置" tabindex="-1">全局配置 <a class="header-anchor" href="#全局配置" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user.name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user.email</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">邮箱</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 生成SSH密钥</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh-keygen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rsa</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx@gmail.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="检查仓库状态-git-status" tabindex="-1">检查仓库状态 Git status <a class="header-anchor" href="#检查仓库状态-git-status" aria-hidden="true">#</a></h3><p><code>git status</code> 命令显示工作目录和缓存区的状态。你可以看到哪些更改被缓存了，哪些还没有，以及哪些还未被 Git 追踪。status 的输出<strong>不会</strong>告诉你任何已提交到项目历史的信息。如果你想看的话，应该使用 <code>git log</code> 命令。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status		#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">列出已缓存、未缓存、未追踪的文件</span></span>
<span class="line"></span></code></pre></div><h3 id="查看历史提价-git-log" tabindex="-1">查看历史提价 Git log <a class="header-anchor" href="#查看历史提价-git-log" aria-hidden="true">#</a></h3><p>有一些有用的选项。<code>--graph</code> 标记会绘制一幅字符组成的图形，左边是提交，右边是提交信息。<code>--decorate</code> 标记会加上提交所在的分支名称和标签。<code>--oneline</code> 标记将提交信息显示在同一行，一目了然。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log					#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">查看日志信息</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--decorate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--oneline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--graph</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--all</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 以图形的形式显示分支信息</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--oneline</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;"># 将每个提交压缩到一行。当你需要查看项目历史的上层情况时这会很有用。</span></span>
<span class="line"></span></code></pre></div><p>用 git log 可以查看提交历史。如果觉得太繁琐，可以用 git log --pretty=oneline，只显示版本号和提交的备注信息。</p><p>用 git reflog 可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录和 reset 的操作）。</p><h3 id="diff-比较命令" tabindex="-1">diff 比较命令 <a class="header-anchor" href="#diff-比较命令" aria-hidden="true">#</a></h3><div class="language-c"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-palenight has-diff"><code><span class="line"><span style="color:#A6ACCD;">git diff</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//比较工作目录和暂存区域的</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight has-diff"><code><span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">HP@QiuYeYiJian</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MINGW64</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/f/GitPractice/myproject</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">master</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">diff</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">diff</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a/README.md</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">b/README.md</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">//比较暂存区域的README和工作目录的README</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">0cb0ebd..1be4651</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100644</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">//文件id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">权限</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">---</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a/README.md</span><span style="color:#A6ACCD;">                      </span><span style="color:#C3E88D;">//旧文件，存放在暂存区域的文件</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+++</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">b/README.md</span><span style="color:#A6ACCD;">                      </span><span style="color:#C3E88D;">//新文件，存放在工作目录的文件</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">@@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@@</span><span style="color:#A6ACCD;">                        </span><span style="color:#C3E88D;">//-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">：旧文件开始的行数，+</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">：新文件开始的行数，</span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">：连续的行号</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">-this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">big</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">project</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">\</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">newline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">//文件不是以换行符结束</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">big</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">project</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+qiuyeyijian</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">\</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">newline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">diff</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a/game.py</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">b/game.py</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">e69de29.</span><span style="color:#F78C6C;">.8671739</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100644</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">---</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a/game.py</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+++</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">b/game.py</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">@@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-0,0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@@</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">+</span><span style="color:#82AAFF;">print</span><span style="color:#FFCB6B;">（&quot;hello,world&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">\</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">newline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span></span>
<span class="line"></span></code></pre></div><h2 id="基本操作" tabindex="-1">基本操作 <a class="header-anchor" href="#基本操作" aria-hidden="true">#</a></h2><h3 id="创建代码仓库的两种方法" tabindex="-1">创建代码仓库的两种方法 <a class="header-anchor" href="#创建代码仓库的两种方法" aria-hidden="true">#</a></h3><p>在本地创建仓库一般有两种方法：</p><ul><li>手动从 0 到 1 创建，并关联远程仓库。此方法较为麻烦，但在一些场合十分有用。</li><li>直接克隆已有的远程仓库到本地。此方法常用，简单易行。</li></ul><p>这两种方法都要求在 Github 提前创建远程仓库，为了演示方便，博主在 Github 上创建了一个测试仓库。</p><p>测试仓库地址：<code>git@github.com:qiuyeyijian/test.git</code></p><h4 id="手动创建" tabindex="-1">手动创建 <a class="header-anchor" href="#手动创建" aria-hidden="true">#</a></h4><ol><li>新建一个文件夹，然后进入到此文件夹下并打开终端</li><li>初始化 Git</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>关联一个远程仓库，命名为<code>origin</code>，默认仓库以此命名。</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/test.git</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;"># 查看是否添加成功</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin		#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">删除关联</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>同步远程所有分支</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--all</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;font-style:italic;"># 此时只是同步分支信息而已</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master		#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">拉取远程主分支，此时会拉取远程分支master中的所有文件</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>将远程的主分支和我们本地的主分支关联起来</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--set-upstream-to=origin/master</span></span>
<span class="line"></span></code></pre></div><blockquote><p>说明：</p><p><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;branch&gt; master</code></p><ul><li>remote 改成之前我们设置的远程仓库的名字，然后 branch 换成远程仓库的分支</li><li>master 是本地的 master 分支</li></ul></blockquote><p>至此创建完成，接下来就可以在此文件夹下编写代码并提交 Github，如何提交接下来也会说明。</p><h4 id="直接克隆远程分支到本地" tabindex="-1">直接克隆远程分支到本地 <a class="header-anchor" href="#直接克隆远程分支到本地" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/test.git</span></span>
<span class="line"></span></code></pre></div><p>Git 为了能进行版本控制，方便进行版本回退，会将用户所有修改记录保存到<code>.git</code> 文件夹下，时间久了就会导致记录文件很大。我们在克隆下载别人仓库的时候，可以只克隆最近一次提交记录即可，可以加快下载速度。只需要在后面加上<code>--depth 1</code>参数即可。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/test.git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--depth=1</span></span>
<span class="line"></span></code></pre></div><h3 id="提交远程仓库" tabindex="-1">提交远程仓库 <a class="header-anchor" href="#提交远程仓库" aria-hidden="true">#</a></h3><p>我们在本地仓库编辑好代码后，就可以提交到远程仓库了，具体流程如下：</p><ol><li>添加所有修改到暂存区，注意 add 后面的点</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>为你的修改做一些说明</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">first commit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">//将first</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">替换成你的一些说明</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>推送到远程仓库的<code>master</code>分支</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可以简写成，因为origin是默认远程仓库，master是默认主分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span></span>
<span class="line"></span></code></pre></div><h3 id="同时关联-github-和-gitee-远程仓库" tabindex="-1">同时关联 Github 和 Gitee 远程仓库 <a class="header-anchor" href="#同时关联-github-和-gitee-远程仓库" aria-hidden="true">#</a></h3><p>利用<code>创建本地仓库</code>方法，我们的本地仓库已经关联了 Github 远程仓库，接下来将演示如何再添加一个 Gitee 远程仓库。博主已经提前在 Gitee 上创建好了测试仓库：<code>git@gitee.com:qiuyeyijian/test.git</code></p><ol><li>添加 Gitee 远程仓库</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitee</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@gitee.com:qiuyeyijian/test.git</span></span>
<span class="line"></span></code></pre></div><blockquote><p>说明：</p><p><code>git remote add &lt;远程仓库名&gt; url</code></p><ul><li><strong>远程仓库名</strong>可以随便起，容易记就行。</li><li>url 可以是 <code>https://</code>形式的，如果你添加了 ssh，就可以使用上面那种形式</li></ul></blockquote><ol start="2"><li>使用<code>git remote -v</code>查看所有远程分支，配置成功会出现：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">gitee</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">git@gitee.com:qiuyeyijian/test.git</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">fetch</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">gitee</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">git@gitee.com:qiuyeyijian/test.git</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">push</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">origin</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/test.git</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">fetch</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">origin</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/test.git</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">push</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>同步远程所有分支，即同步 Gitee 和 Github 所有分支</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--all</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitee</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--allow-unrelated-histories</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;"># 拉取Gitee的master仓库分支内容</span></span>
<span class="line"></span></code></pre></div><blockquote><p>说明：</p><ul><li>拉取 gitee 上的远程分支，后面加的命令的意思是忽略版本不同，不然会报错<code>fatal: refusing to merge unrelated histories</code></li><li>如果有冲突的话就直接解决冲突，不在赘述</li></ul></blockquote><ol start="4"><li>至此，Gitee 远程仓库已经添加完毕。之后我们需要提交到远程仓库时：</li></ol><ul><li>提交到 Github</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master		</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#可以简写 git push</span></span>
<span class="line"></span></code></pre></div><ul><li>提交到 Gitee</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitee</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master		#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">可以简写</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitee</span></span>
<span class="line"></span></code></pre></div><h3 id="克隆-x-的项目-一段时间后再次同步-x-的提交信息" tabindex="-1">克隆 X 的项目，一段时间后再次同步 X 的提交信息 <a class="header-anchor" href="#克隆-x-的项目-一段时间后再次同步-x-的提交信息" aria-hidden="true">#</a></h3><ol><li>进入到自己项目，打开终端</li><li>添加原作者的远程仓库地址，习惯命名<code>upstream</code>，当然也可以自定义其他</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># git remote add [远程仓库名] [远程仓库地址]</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@github.com:qiuyeyijian/Notes.git</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>将原作者仓库的所有分支同步到本地</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upstream</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>将其中一个分支，比如<code>upstream/master</code>合并到自己本地的<code>master</code>分支</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">merge</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upstream/master</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>提交到自己的 Github 远程托管分支</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span></span>
<span class="line"></span></code></pre></div><h2 id="分支管理" tabindex="-1">分支管理 <a class="header-anchor" href="#分支管理" aria-hidden="true">#</a></h2><h3 id="创建分支" tabindex="-1">创建分支 <a class="header-anchor" href="#创建分支" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">分支</span><span style="color:#A6ACCD;">名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                            </span><span style="color:#676E95;font-style:italic;"># 创建分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">分支</span><span style="color:#A6ACCD;">名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                          </span><span style="color:#676E95;font-style:italic;"># 切换分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">分支</span><span style="color:#A6ACCD;">名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;font-style:italic;"># 创建并切换分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">								  </span><span style="color:#676E95;font-style:italic;"># 查看所有分支</span></span>
<span class="line"></span></code></pre></div><h3 id="合并分支" tabindex="-1">合并分支 <a class="header-anchor" href="#合并分支" aria-hidden="true">#</a></h3><p>master 指针指向版本，HEAD 指向 master，每次提交 master 都会向前移一步，而 HEAD 跟随 master 移动。现在创建一个新的分支 dev，Git 就会新建一个指针 dev，并指向 master 指向的内容，并且把 HEAD 指向 dev，表示 dev 是当前使用的分支。那么此时，我们在工作区的修改和提交就会在 dev 分支上进行，每一次提交，dev 分支就会向前移动一步，而 master 分支不变。如果 dev 分支上的内容开发完毕，就需要合并两个分支，最简单的方法就是直接将 master 的指针指向 dev 分支指向的内容。 master 指针指向版本，HEAD 指向 master，每次提交 master 都会向前移一步，而 HEAD 跟随 master 移动。现在创建一个新的分支 dev，Git 就会新建一个指针 dev，并指向 master 指向的内容，并且把 HEAD 指向 dev，表示 dev 是当前使用的分支。那么此时，我们在工作区的修改和提交就会在 dev 分支上进行，每一次提交，dev 分支就会向前移动一步，而 master 分支不变。如果 dev 分支上的内容开发完毕，就需要合并两个分支，最简单的方法就是直接将 master 的指针指向 dev 分支指向的内容。</p><p>场景：假如我们在本地仓库创建一个<code>dev</code>分支，并在此分支下开发软件，完成后提交的远程仓库。现在我们希望将<code>dev</code>分支合并到<code>master</code>主分支。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev			#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">创建dev分支，在此分支下开发程序</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;"> 					</span><span style="color:#676E95;font-style:italic;"># 将程序提交到暂存区</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">			</span><span style="color:#676E95;font-style:italic;"># 编写提交信息</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push		</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 推送到远程仓库的dev分支</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master			#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">切换到主分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">merge</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev				#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">将dev合并到主分支，如果遇到冲突就解决</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push					#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">合并完成推送到远程仓库</span></span>
<span class="line"></span></code></pre></div><p>另外可以使用下面命令创建一个匿名分支。可以用来做实验，切换到主分支后，匿名分支不会保存。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HEAD~</span></span>
<span class="line"></span></code></pre></div><h3 id="删除分支" tabindex="-1">删除分支 <a class="header-anchor" href="#删除分支" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;font-style:italic;"># 查看所有分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checkout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master			#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">切换到主分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev			#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">删除本地分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--delete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev	#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">删除远程分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;font-style:italic;"># 查看所有分支</span></span>
<span class="line"></span></code></pre></div><p>如果报错：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">error:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dev</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ref</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">does</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exist</span></span>
<span class="line"></span></code></pre></div><p>说明 remote 端已经删掉（比如在合并 master 时删除了），为什么用 git branch -av 还是能看到呢？ 其实我们看到的，只是前面用 git fetch 保存到本地的缓存信息而已。可以执行命令：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--prune</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或者 git fetch --p origin</span></span>
<span class="line"></span></code></pre></div><p>这时候，再执行 git branch -a ，已经看不到 remote 的 dev 这个分支了</p><h3 id="重命名分支" tabindex="-1">重命名分支 <a class="header-anchor" href="#重命名分支" aria-hidden="true">#</a></h3><p><strong>本地分支重命名</strong></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">old-name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new-name</span></span>
<span class="line"></span></code></pre></div><p><strong>远程分支重命名</strong></p><blockquote><ul><li>1、将远程分支删除掉</li><li>2、将本地分支重命名</li><li>3、将本地分支推到远程</li></ul></blockquote><p>比如：将远程的 dev 重命名为 develop</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">git push </span><span style="color:#89DDFF;">--delete</span><span style="color:#A6ACCD;"> origin dev</span></span>
<span class="line"><span style="color:#A6ACCD;">git branch </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m dev develop</span></span>
<span class="line"><span style="color:#A6ACCD;">git push origin develop</span></span>
<span class="line"></span></code></pre></div><h3 id="拉取指定分支" tabindex="-1">拉取指定分支 <a class="header-anchor" href="#拉取指定分支" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--all</span></span>
<span class="line"></span></code></pre></div><h2 id="进阶操作" tabindex="-1">进阶操作 <a class="header-anchor" href="#进阶操作" aria-hidden="true">#</a></h2><h3 id="修改最后一次提交" tabindex="-1">修改最后一次提交 <a class="header-anchor" href="#修改最后一次提交" aria-hidden="true">#</a></h3><div class="language-c"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">git commit </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">amend</span></span>
<span class="line"></span></code></pre></div><h3 id="删除文件" tabindex="-1">删除文件 <a class="header-anchor" href="#删除文件" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--soft</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HEAD~</span><span style="color:#A6ACCD;">                      </span><span style="color:#C3E88D;">//回退当前指针</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">//暴力删除工作目录和暂存区的文件</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--cached</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                 </span><span style="color:#C3E88D;">//只删除暂存区域的文件</span></span>
<span class="line"></span></code></pre></div><h3 id="解决合并冲突" tabindex="-1">解决合并冲突 <a class="header-anchor" href="#解决合并冲突" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">//查看状态</span></span>
<span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">//查看冲突文件</span></span>
<span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">//修复冲突文件</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">fil</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">//单独添加冲突文件</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">confict fixed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">//提交</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--graph</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--pretty=oneline</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--abbrev-commit</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">//查看分支合并情况</span></span>
<span class="line"></span></code></pre></div><h3 id="忽略某些文件" tabindex="-1">忽略某些文件 <a class="header-anchor" href="#忽略某些文件" aria-hidden="true">#</a></h3><p>首先在 git 仓库下新建一个<code>.gitignore</code>文件，然后在里面添加你想忽略的目录，一行代表一个规则。然后提交到远程仓库。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--cached</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.				//注意后面的点，意思是删除全部缓存，</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">添加忽略文件“</span></span>
<span class="line"><span style="color:#C3E88D;">git push</span></span>
<span class="line"></span></code></pre></div><h2 id="tag-标签" tabindex="-1">Tag 标签 <a class="header-anchor" href="#tag-标签" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tag					#</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">查看标签</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">标签名</span><span style="color:#A6ACCD;">称</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">		 </span><span style="color:#676E95;font-style:italic;"># 创建一个标签</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">标签名</span><span style="color:#A6ACCD;">称</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">	 </span><span style="color:#676E95;font-style:italic;"># 创建一个带注解的标签，会打开编辑器输入</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">标签名</span><span style="color:#A6ACCD;">称</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">注解信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;"># 创建一个带注解的标签，直接指定注解信息</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">标签名	</span><span style="color:#A6ACCD;"> 	  </span><span style="color:#676E95;font-style:italic;"># 删除本地标签</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">标签名</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 推送远程标签</span></span>
<span class="line"></span></code></pre></div><h2 id="版本回退" tabindex="-1">版本回退 <a class="header-anchor" href="#版本回退" aria-hidden="true">#</a></h2><h3 id="reset" tabindex="-1">reset <a class="header-anchor" href="#reset" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--pretty</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--hard</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit_id</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HEAD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--force</span></span>
<span class="line"></span></code></pre></div><p>开发中建议使用<code>git revert</code></p><h3 id="revert" tabindex="-1">revert <a class="header-anchor" href="#revert" aria-hidden="true">#</a></h3><p>git revert 命令用来撤销某次操作，此次操作之前和之后的 commit 和 history 都会保留，并且把这次撤销作为一次最新的提交。</p><h3 id="撤销-reset-本身操作" tabindex="-1">撤销 reset 本身操作 <a class="header-anchor" href="#撤销-reset-本身操作" aria-hidden="true">#</a></h3><p>1、查看所有操作日志</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reflog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">show</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或者</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span>
<span class="line"></span></code></pre></div><p>2、恢复到一个新的分支上</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">recover_branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commitid</span></span>
<span class="line"></span></code></pre></div><h2 id="commit-提交规范" tabindex="-1">Commit 提交规范 <a class="header-anchor" href="#commit-提交规范" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>type，必选。commit 的类别，只允许如下几种标识。</p><p>scope，可选。是本次提交影响范围。可以是：问题 ID / 模块名称 / 需求 ID / 变更号。</p><p>subject，必选。是对本次提交的简短描述。不超过 50 个字符。推荐以动词开头，如： 设置、修改、增加、删减、撤销等。</p><table><thead><tr><th>type</th><th>subject</th></tr></thead><tbody><tr><td><code>feat</code></td><td>功能feature的意思，也是最常用的。对应实际业务代码变动。比如增加或者修改一些业务处理函数，接口等</td></tr><tr><td><code>fix</code></td><td>对应因修复bug而产生的业务代码变动。</td></tr><tr><td><code>chore</code></td><td>其他改动。比如一些注释修改或者文件清理。不影响src和test里面实际代码的，都可以放在这里</td></tr><tr><td><code>test</code></td><td>对应测试代码变动，比如增加或者修改测试用例</td></tr><tr><td><code>refactor</code></td><td>重构代码。指的是代码结构的调整，比如使用了一些设计模式重新组织了代码</td></tr><tr><td><code>style</code></td><td>代码格式调整，比如执行了format、更改了tab显示，代码命名风格变动等，没有功能性的变动。</td></tr><tr><td><code>docs</code></td><td>更新了文档，或者更新了注释</td></tr><tr><td><code>revert</code></td><td>回滚了一些前面的代码</td></tr><tr><td><code>build</code></td><td>影响编译的一些更改，比如更改了maven插件、增加了npm的过程等</td></tr><tr><td><code>revert</code></td><td>回滚了一些前面的代码</td></tr><tr><td><code>ci</code></td><td>持续集成方面的更改。现在有些build系统喜欢把ci功能使用yml描述。如有这种更改，建议使用ci</td></tr><tr><td><code>perf</code></td><td>对项目或者模块进行了性能优化。比如一些jvm的参数改动，把stringbuffer改为stringbuilder等</td></tr></tbody></table><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">git commit -m&quot;feat(someip): 增加xxx传输方式，修改xxx接口&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">git commit -m&quot;fix(#5834): 修复inproc通信EM_ComAgent_Send第5次时返回失败问题&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="changelog-规范" tabindex="-1">CHANGELOG 规范 <a class="header-anchor" href="#changelog-规范" aria-hidden="true">#</a></h2><h3 id="版本-2022-08-08" tabindex="-1">[版本] (2022-08-08) <a class="header-anchor" href="#版本-2022-08-08" aria-hidden="true">#</a></h3><h4 id="bug-fixes" tabindex="-1">Bug Fixes <a class="header-anchor" href="#bug-fixes" aria-hidden="true">#</a></h4><h3 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-hidden="true">#</a></h3><h2 id="gitignore" tabindex="-1">Gitignore <a class="header-anchor" href="#gitignore" aria-hidden="true">#</a></h2><p>在一些项目中，我们不想让本地仓库的所有文件都上传到远程仓库中，而是有选择的上传，比如：一些依赖文件（node_modules下的依赖）、bin 目录下的文件、测试文件等。一方面将一些依赖、测试文件都上传到远程传输量很大，另一方面，一些文件对于你这边是可用的，在另一个人那可能就不可用了，比如：本地配置文件。</p><p>为了解决上述问题，git 引入了 .gitignore 文件，使用该文件来选择性的上传文件。</p><p><code>.gitignore</code>可以使用注释，以<code>#</code>开头。</p><h3 id="仅忽略文件" tabindex="-1">仅忽略文件 <a class="header-anchor" href="#仅忽略文件" aria-hidden="true">#</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件，但不会忽略名字为<code>foo</code>的文件夹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">foo</span></span>
<span class="line"><span style="color:#A6ACCD;">!foo/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="仅忽略目录" tabindex="-1">仅忽略目录 <a class="header-anchor" href="#仅忽略目录" aria-hidden="true">#</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件夹，包括<code>foo</code>本身及其子文件夹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">foo/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="忽略目录和文件" tabindex="-1">忽略目录和文件 <a class="header-anchor" href="#忽略目录和文件" aria-hidden="true">#</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件夹和文件。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">foo</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="使用通配符" tabindex="-1">使用通配符 <a class="header-anchor" href="#使用通配符" aria-hidden="true">#</a></h3><p>常用的通配符有：</p><p>（1）星号<code>*</code> ：匹配多个字符；</p><p>（2）问号<code>?</code>：匹配除 ‘/’外的任意一个字符；</p><p>（3）方括号<code>[abc...]</code>：匹配多个列表中的字符；</p><p>忽略本项目下的所有以<code>.a</code>、<code>.s</code>、<code>.i</code>结尾的文件和文件夹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">*.[asi]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="反向操作" tabindex="-1">反向操作 <a class="header-anchor" href="#反向操作" aria-hidden="true">#</a></h3><p>之前忽略的匹配模式再次包含在跟踪内容里。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">!匹配模式</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>忽略除<code>src</code>目录以外的所有文件和文件夹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">*</span></span>
<span class="line"><span style="color:#A6ACCD;">!src/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="双星号" tabindex="-1">双星号 <a class="header-anchor" href="#双星号" aria-hidden="true">#</a></h3><p>斜杠后紧跟两个连续的星号<code>**</code>，表示多级目录。</p><p>递归忽略<code>src</code>目录及其子目录下的所有名字为<code>foo</code>的文件和文件夹</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">src/**/foo</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-hidden="true">#</a></h3><p>（1）空行不匹配任何文件；</p><p>（2）git 跟踪文件，而不是目录；</p><p>（3）在 .gitignore 文件中，每行表示一种模式；</p><p>（4）如果本地仓库文件已被跟踪，那么即使在 .gitignore 中设置了忽略，也不起作用。</p><p>（5）.gitignore 文件也会被上传的到远程仓库，所以，同一个仓库的人可以使用同一个.gitignore 文件。</p><h2 id="其他-1" tabindex="-1">其他 <a class="header-anchor" href="#其他-1" aria-hidden="true">#</a></h2><h3 id="更改默认编辑器" tabindex="-1">更改默认编辑器 <a class="header-anchor" href="#更改默认编辑器" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--replace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">core.editor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">code --wait</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-c5936a1e data-v-e033cd21><div class="edit-info" data-v-e033cd21><div class="edit-link" data-v-e033cd21><a class="VPLink link edit-link-button" href="https://github.com/qiuyeyijian/qiuyeyijian.github.io/edit/main/docs/Tools/Git/index.md" target="_blank" rel="noreferrer" data-v-e033cd21 data-v-3c355974><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-e033cd21><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page on GitHub<!--]--><!----></a></div><!----></div><!----></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter" data-v-93a960b4 data-v-d24360a6><div class="container" data-v-d24360a6><p class="message" data-v-d24360a6>Released under the MIT License.</p><p class="copyright" data-v-d24360a6>Copyright © 2022 秋叶依剑</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"articles_vscode.md\":\"123e7a4d\",\"articles_index.md\":\"1730d704\",\"articles_linux-cpp.md\":\"b1762e72\",\"articles_get-current-dir.md\":\"7fecb516\",\"computer_index.md\":\"1b6bddc8\",\"articles_visual-studio.md\":\"ef4262cf\",\"tools_docker_index.md\":\"5e392c93\",\"tools_ea_index.md\":\"72d75d9a\",\"tools_git_index.md\":\"2f4d1a1a\",\"tools_test_gbenchmark.md\":\"7cf5f5d9\",\"tools_xmake_index.md\":\"b9239b84\",\"language_python_index.md\":\"1b43f5f8\",\"index.md\":\"08e59d46\",\"linux_network_socket_tcp-packet-sticking.md\":\"fbd8b410\",\"linux_network_index.md\":\"3f7396c9\",\"linux_scheduled-tasks.md\":\"1bc92779\",\"linux_disk-management.md\":\"19457330\",\"linux_gcc-and-gdb.md\":\"a780b08a\",\"linux_index.md\":\"33c36366\",\"language_cpp_cpp11_multi-thread.md\":\"e5ea19d3\",\"linux_sed.md\":\"27084806\",\"linux_user-management.md\":\"f2f801d1\",\"linux_network_socket_communication-encapsulation.md\":\"f41c1bd6\",\"language_cpp_cpp11_index.md\":\"e184fc1e\",\"language_cpp_standard-headers.md\":\"7b971b15\",\"tools_test_gtest_index.md\":\"8da51c99\",\"linux_network_socket_server-concurrency.md\":\"dc94c452\",\"tools_markdown_index.md\":\"d23d1913\",\"language_cpp_cpp11_smart-pointer.md\":\"85840406\",\"language_cpp_stl_index.md\":\"7960f347\",\"linux_network_socket_index.md\":\"1ebf119f\",\"linux_lib.md\":\"e63effb8\",\"language_cpp_index.md\":\"7eb1610a\",\"linux_command.md\":\"cc716db3\"}")</script>
    <script type="module" async src="/assets/app.f8393eb1.js"></script>
    
  </body>
</html>