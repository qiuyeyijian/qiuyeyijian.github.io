import{_ as s,c as a,o as n,a as l}from"./app.5e73ec67.js";const D=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"磁盘管理","slug":"磁盘管理","link":"#磁盘管理","children":[{"level":3,"title":"系统管理","slug":"系统管理","link":"#系统管理","children":[]},{"level":3,"title":"查看端口占用并删除","slug":"查看端口占用并删除","link":"#查看端口占用并删除","children":[]},{"level":3,"title":"Springboot 部署项目","slug":"springboot-部署项目","link":"#springboot-部署项目","children":[]}]}],"relativePath":"Linux/disk-management.md"}'),p={name:"Linux/disk-management.md"},e=l(`<h2 id="磁盘管理" tabindex="-1">磁盘管理 <a class="header-anchor" href="#磁盘管理" aria-hidden="true">#</a></h2><h4 id="磁盘分区" tabindex="-1">磁盘分区 <a class="header-anchor" href="#磁盘分区" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ls /dev </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep sd				//查看当前系统挂载的硬盘</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fdisk /dev/sda					//对sda硬盘进行操作</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mkfs -t ext4 /dev/sdb1			//格式化主分区</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="系统管理" tabindex="-1">系统管理 <a class="header-anchor" href="#系统管理" aria-hidden="true">#</a></h3><h4 id="添加组" tabindex="-1">添加组 <a class="header-anchor" href="#添加组" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">groupadd </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">组名</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">-g </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">gid</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> 	为新组指定GID，其默认值大于500，且大于系统其他组的GID, 与 -r 互斥</span></span>
<span class="line"><span style="color:#A6ACCD;">-o       	改组的GID可以不唯一</span></span>
<span class="line"><span style="color:#A6ACCD;">-r			添加一个系统账号组，指定小于499的第一个未使用数值为该系统组的GID，与 -g 互斥、</span></span>
<span class="line"><span style="color:#A6ACCD;">-f			若正在创建的组已经存在，将不报错而强制添加该组</span></span>
<span class="line"></span></code></pre></div><p>例：在系统添加一个新组 <code>student</code> , 并为其指定GID是600</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">groupadd -g 600 student</span></span>
<span class="line"></span></code></pre></div><h4 id="删除组" tabindex="-1">删除组 <a class="header-anchor" href="#删除组" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">groupdel </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">组名</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h4 id="修改组" tabindex="-1">修改组 <a class="header-anchor" href="#修改组" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">groupmod </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-g </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新的GID</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-o</span><span style="color:#89DDFF;">]]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-n </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">新组名</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">现有组名</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>例：把组<code>student</code> 的GID值修改为 700， 并将组名改为 <code>teacher</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">groupmod -g 700 -n teacher student</span></span>
<span class="line"></span></code></pre></div><h4 id="组管理" tabindex="-1">组管理 <a class="header-anchor" href="#组管理" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">gpasswd</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">-a：添加用户到组；</span></span>
<span class="line"><span style="color:#A6ACCD;">-d：从组删除用户；</span></span>
<span class="line"><span style="color:#A6ACCD;">-A：指定管理员；</span></span>
<span class="line"><span style="color:#A6ACCD;">-M：指定组成员和-A的用途差不多；</span></span>
<span class="line"><span style="color:#A6ACCD;">-r：删除密码；</span></span>
<span class="line"><span style="color:#A6ACCD;">-R：限制用户登入组，只有组中的成员才可以用newgrp加入该组。</span></span>
<span class="line"></span></code></pre></div><p>例：给test 组创建一个密码</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#676E95;"># gpasswd test</span></span>
<span class="line"><span style="color:#A6ACCD;">Changing the password </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> group </span><span style="color:#82AAFF;">test</span></span>
<span class="line"><span style="color:#A6ACCD;">New Password:</span></span>
<span class="line"><span style="color:#A6ACCD;">Re-enter new password:</span></span>
<span class="line"></span></code></pre></div><p>添加user1，让user1来管理test组</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#676E95;"># useradd user1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#676E95;"># gpasswd -A user1 test</span></span>
<span class="line"></span></code></pre></div><p>创建user2，user3用户，并且让user1添加这两个账户到test组中</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> useradd user2</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> useradd user</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost tmp</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> su - user1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">user1@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"> gpasswd -a user2 </span><span style="color:#82AAFF;">test</span></span>
<span class="line"><span style="color:#A6ACCD;">Adding user user2 to group </span><span style="color:#82AAFF;">test</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">user1@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"> gpasswd -a user3 </span><span style="color:#82AAFF;">test</span></span>
<span class="line"><span style="color:#A6ACCD;">Adding user user3 to group </span><span style="color:#82AAFF;">test</span></span>
<span class="line"></span></code></pre></div><p>查看/etc/group文件进行验证</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"> tail -n 10 /etc/group </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep </span><span style="color:#82AAFF;">test</span></span>
<span class="line"><span style="color:#A6ACCD;">test:x:1001:user2,user3</span></span>
<span class="line"></span></code></pre></div><h4 id="添加用户" tabindex="-1">添加用户 <a class="header-anchor" href="#添加用户" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">useradd </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">选项</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">用户名</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">-c 注释信息，通常为用户 passwd 文件的用户名字段指定用户名或其他相关信息</span></span>
<span class="line"><span style="color:#A6ACCD;">-d 指定新用户的主目录，默认值是 /home/用户名</span></span>
<span class="line"><span style="color:#A6ACCD;">-e 用户账号失效日期，在此日期后，该账号将失效,时间格式为 yyyy-mm-dd</span></span>
<span class="line"><span style="color:#A6ACCD;">-p 指定用户密码</span></span>
<span class="line"><span style="color:#A6ACCD;">-s 指定用户登录的默认Sehll环境，若不指定参数，则有系统为其指定默认Shell程序</span></span>
<span class="line"><span style="color:#A6ACCD;">-u 指定用户标志号的数值，系统默认值的下限为99，并且要大于系统中现存的其他用户UID,通常0-99的UID		值保留给系统账号</span></span>
<span class="line"><span style="color:#A6ACCD;">-G 指定新用户的附加组，该参数对应于 /etc/group 文件中的用户列表字段</span></span>
<span class="line"><span style="color:#A6ACCD;">-g 指定用户所在的组名或登录时初始组标志号</span></span>
<span class="line"><span style="color:#A6ACCD;">-n 在创建新用户的账户时，使该用户所在组的组名与该用户的登录名相同</span></span>
<span class="line"><span style="color:#A6ACCD;">-f 指定用户密码过期后到该用户账号被永久查封之前</span></span>
<span class="line"></span></code></pre></div><p>例：创建一个用户账号 <code>qiuyeyijian</code> ，主目录为 <code>/home/qiuyeyijian</code>， 登录时使用 bash 作为其Shell程序</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">useradd -d /home/qiuyeyijian -s /bin/bash qiuyeyijian</span></span>
<span class="line"></span></code></pre></div><p>创建一个用户 <code>qiuyeyijian</code>, 初始组为 <code>student</code>附加组为 <code>teacher</code>,</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">useradd -g student -G teacher qiuyeyijian</span></span>
<span class="line"></span></code></pre></div><h4 id="修改用户" tabindex="-1">修改用户 <a class="header-anchor" href="#修改用户" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">usermod </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">参数</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> 用户名</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">-d:修改用户的主目录     </span><span style="color:#676E95;">#usermod  -d  /ljj/user1  user1</span></span>
<span class="line"><span style="color:#A6ACCD;">-l:修改用户的账号名称  </span><span style="color:#676E95;">#usermod  -l  user11  user1</span></span>
<span class="line"><span style="color:#A6ACCD;">-g:更改用户的基本组</span></span>
<span class="line"><span style="color:#A6ACCD;">-G：更改用户的附加组   </span><span style="color:#676E95;">#usermod  -G  group1  user1 </span></span>
<span class="line"><span style="color:#A6ACCD;">-c:修改备注信息</span></span>
<span class="line"><span style="color:#A6ACCD;">-e:修改账号的有效期限</span></span>
<span class="line"><span style="color:#A6ACCD;">-s:修改登录时使用的Shell  </span></span>
<span class="line"><span style="color:#A6ACCD;">-L:锁定用户密码</span></span>
<span class="line"><span style="color:#A6ACCD;">-U：解除用户密码</span></span>
<span class="line"></span></code></pre></div><h4 id="删除用户" tabindex="-1">删除用户 <a class="header-anchor" href="#删除用户" aria-hidden="true">#</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">userdel 用户名</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">-r 将用户主目录及该目录下的文件删除，也会将该用户在系统中的其他文件删除</span></span>
<span class="line"></span></code></pre></div><h3 id="查看端口占用并删除" tabindex="-1">查看端口占用并删除 <a class="header-anchor" href="#查看端口占用并删除" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@onepiece </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># lsof -i</span></span>
<span class="line"><span style="color:#676E95;"># 将会显示 命令 + 进程ID + 进程所属用户, 以及监听的协议、状态等信息</span></span>
<span class="line"><span style="color:#A6ACCD;">COMMAND     PID USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME</span></span>
<span class="line"><span style="color:#A6ACCD;">dhclient    728 root    6u  IPv4   11262      0t0  UDP </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">:bootpc</span></span>
<span class="line"><span style="color:#A6ACCD;">ntpd        839  ntp   16u  IPv4   13671      0t0  UDP </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">:ntp</span></span>
<span class="line"><span style="color:#A6ACCD;">ntpd        839  ntp   18u  IPv4   13677      0t0  UDP localhost:ntp</span></span>
<span class="line"></span></code></pre></div><p>使用<code>lsof</code>查看指定端口占用情况</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">lsof -i:8081</span></span>
<span class="line"></span></code></pre></div><p>使用<code>netstat</code>查看指定端口占用情况</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">netstat -anp </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep 8081</span></span>
<span class="line"></span></code></pre></div><p>杀死某个端口的占用进程</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">kill</span><span style="color:#A6ACCD;"> -s 9 9646</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">进程号</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="springboot-部署项目" tabindex="-1">Springboot 部署项目 <a class="header-anchor" href="#springboot-部署项目" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">nohup java -jar test.jar </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">temp.txt </span><span style="color:#89DDFF;">&amp;</span></span>
<span class="line"></span></code></pre></div>`,49),o=[e];function c(t,r,i,d,C,y){return n(),a("div",null,o)}const h=s(p,[["render",c]]);export{D as __pageData,h as default};
