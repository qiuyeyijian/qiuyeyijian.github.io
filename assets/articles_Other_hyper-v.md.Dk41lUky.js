import{_ as s,c as a,o as n,V as e}from"./chunks/framework.fZt_wkQb.js";const p="/assets/Snipaste_2021-02-08_11-13-39.fM8m-7rk.png",t="/assets/Snipaste_2021-02-08_11-26-41.XhzPriLl.png",r="/assets/Snipaste_2021-02-08_11-41-23.4S5H4ydA.png",y=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"articles/Other/hyper-v.md","filePath":"articles/Other/hyper-v.md"}'),i={name:"articles/Other/hyper-v.md"},l=e('<h2 id="hyper-v-下-ubuntu-server-20-04-虚拟机固定ip" tabindex="-1">Hyper V 下 Ubuntu Server 20.04 虚拟机固定IP <a class="header-anchor" href="#hyper-v-下-ubuntu-server-20-04-虚拟机固定ip" aria-label="Permalink to &quot;Hyper V 下 Ubuntu Server 20.04 虚拟机固定IP&quot;">​</a></h2><p><a href="https://blog.gwlin.com/posts/6260" target="_blank" rel="noreferrer">Hyper V 下 Ubuntu Server 20.04 虚拟机固定IP – GWLin的博客</a></p><p>今天重启机器后发现Ubuntu虚拟机的IP变了，这样会给平时工作带来额外不便。在网上看了一些文章，这里总结一下，帮助有需要的人。</p><p>1、在HyperV里添加一个虚拟网卡，像这样，注意选择内部类型：</p><p><img src="'+p+'" alt="img"></p><p>2、设置网络共享。在网络适配器管理里，找到你的物理主机的上网网卡，右键打开属性，共享网络给刚刚新建的虚拟网卡。像这样：</p><p><img src="'+t+'" alt="img"></p><p>注意弹窗提示的IP，它是网关IP，我的是192.168.137.1 ,这个后面配置会用到。虚拟网卡变成了这样：</p><p><img src="'+r+`" alt="img"></p><p>3、进入虚拟机（hyperv面板里连接进入）。打开文件/etc/netplan/00-installer-config.yaml（注意先备份一下），编辑如下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>network:</span></span>
<span class="line"><span>    ethernets:</span></span>
<span class="line"><span>        eth0:</span></span>
<span class="line"><span>            dhcp4: no</span></span>
<span class="line"><span>            dhcp6: no</span></span>
<span class="line"><span>            addresses: [192.168.137.128/24]</span></span>
<span class="line"><span>            gateway4: 192.168.137.1</span></span>
<span class="line"><span>            nameservers:</span></span>
<span class="line"><span>                    addresses: [223.5.5.5]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    version: 2</span></span></code></pre></div><p>192.168.137.128可以自己设定，192.168.137.1是刚刚提示的网关，223.5.5.5是阿里的dns，可以自己换。</p><p>4、生效</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo netplan apply</span></span></code></pre></div>`,14),c=[l];function o(h,d,_,u,g,m){return n(),a("div",null,c)}const b=s(i,[["render",o]]);export{y as __pageData,b as default};
