import{_ as s,c as i,o as a,V as t}from"./chunks/framework.fZt_wkQb.js";const e="/assets/image-20220629113114459.B6ziOCAZ.png",u=JSON.parse('{"title":"Git","description":"","frontmatter":{},"headers":[],"relativePath":"articles/Tools/Git/index.md","filePath":"articles/Tools/Git/index.md"}'),l={name:"articles/Tools/Git/index.md"},n=t('<h1 id="git" tabindex="-1">Git <a class="header-anchor" href="#git" aria-label="Permalink to &quot;Git&quot;">​</a></h1><blockquote><p>学习 Git 时记录的一些笔记。随着学习的不断深入，会不断对文章进行修改。</p></blockquote><h2 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h2><h3 id="本地仓库" tabindex="-1">本地仓库 <a class="header-anchor" href="#本地仓库" aria-label="Permalink to &quot;本地仓库&quot;">​</a></h3><p>工作区：工作区就是我们能看到的目录，它持有实际文件。</p><p>版本库：工作区有一个隐藏目录.git，这个不是工作区，是 Git 的版本库。版本库里会有暂存区，以及 Git 自动创建的第一个分支 master，以及指向 master 的一个指针叫 HEAD。</p><p>暂存区，stage（或者叫 index），存放在 &quot;.git 目录下&quot; 下的 index 文件（.git/index）中。它像个缓存区域，临时保存你的改动；</p><p>HEAD，它指向你最后一次提交的结果。</p><p><img src="'+e+`" alt="image-20220629113114459"></p><p>可以说，版本控制的本质就是对文件版本的控制。对文件进行各种操作的前提是，明确文件所在的状态。在 git 中通过<code>git status</code>指令来查看当前所有文件的状态。若你的版本库与工作区的文件快照完全相同，即所有文件均处于<code>Unmodify</code>状态，则执行<code>git status</code>会提示：<code>working tree clean</code>。</p><h3 id="文件状态" tabindex="-1">文件状态 <a class="header-anchor" href="#文件状态" aria-label="Permalink to &quot;文件状态&quot;">​</a></h3><p>**Untracked：**未跟踪：此文件存在于项目文件夹中，但并未添加到版本库，所以不会参与版本控制，使用<code>git add filename</code>指令来将文件状态转换为 Staged。</p><p>**Unmodify：**文件已入版本库，未修改，也就是说该文件与版本库中文件快照完全一致。这种状态下的文件有两种去处：使用<code>git rm filename</code>指令来将文件移出版本库，状态变为 Untracked；或者修改该文件，状态变为 Modified。</p><p>**Modified：**文件已经被修改（仅是修改，并无其它操作），意味着该文件与版本库的文件快照不相同，这种状态下的文件也有两种去处：使用指令<code>git add filename</code> 将该文件存入暂存区，状态变为 Staged；或者使用指令<code>git checkout</code>丢弃修改，状态变为 Unmodify。</p><p>**Staged：**暂存状态，文件被储存在暂存区。使用指令<code>git commit</code>将文件提交到版本库，状态变为 Unmodify；或者使用指令<code>git reset HEAD filename</code>来取消暂存状态，状态变为 Modified。</p><h2 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-label="Permalink to &quot;基本命令&quot;">​</a></h2><h3 id="全局配置" tabindex="-1">全局配置 <a class="header-anchor" href="#全局配置" aria-label="Permalink to &quot;全局配置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config --global user.name &quot;用户名&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config --global user.email &quot;邮箱&quot;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成SSH密钥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa -b </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -C &quot;xxx@gmail.com&quot;</span></span></code></pre></div><h3 id="检查仓库状态-git-status" tabindex="-1">检查仓库状态 Git status <a class="header-anchor" href="#检查仓库状态-git-status" aria-label="Permalink to &quot;检查仓库状态 Git status&quot;">​</a></h3><p><code>git status</code> 命令显示工作目录和缓存区的状态。你可以看到哪些更改被缓存了，哪些还没有，以及哪些还未被 Git 追踪。status 的输出<strong>不会</strong>告诉你任何已提交到项目历史的信息。如果你想看的话，应该使用 <code>git log</code> 命令。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status		# 列出已缓存、未缓存、未追踪的文件</span></span></code></pre></div><h3 id="查看历史提价-git-log" tabindex="-1">查看历史提价 Git log <a class="header-anchor" href="#查看历史提价-git-log" aria-label="Permalink to &quot;查看历史提价 Git log&quot;">​</a></h3><p>有一些有用的选项。<code>--graph</code> 标记会绘制一幅字符组成的图形，左边是提交，右边是提交信息。<code>--decorate</code> 标记会加上提交所在的分支名称和标签。<code>--oneline</code> 标记将提交信息显示在同一行，一目了然。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log					# 查看日志信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log --decorate --oneline --graph --all   # 以图形的形式显示分支信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log --oneline		# 将每个提交压缩到一行。当你需要查看项目历史的上层情况时这会很有用。</span></span></code></pre></div><p>用 git log 可以查看提交历史。如果觉得太繁琐，可以用 git log --pretty=oneline，只显示版本号和提交的备注信息。</p><p>用 git reflog 可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录和 reset 的操作）。</p><h3 id="diff-比较命令" tabindex="-1">diff 比较命令 <a class="header-anchor" href="#diff-比较命令" aria-label="Permalink to &quot;diff 比较命令&quot;">​</a></h3><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git diff</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//比较工作目录和暂存区域的</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   HP@QiuYeYiJian</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MINGW64 /f/GitPractice/myproject </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">master</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   $</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git diff</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a/README.md b/README.md   //比较暂存区域的README和工作目录的README</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   index</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cb0ebd..1be4651 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100644</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        //文件id 权限</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a/README.md                      //旧文件，存放在暂存区域的文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   +++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b/README.md                      //新文件，存放在工作目录的文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +1,2 @@                        //-1：旧文件开始的行数，+1：新文件开始的行数，2：连续的行号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   -this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is a big project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   \\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> No newline at end of file          //文件不是以换行符结束</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   +this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is a big project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   +qiuyeyijian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   \\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> No newline at end of file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a/game.py b/game.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> e69de29..8671739 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100644</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   ---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a/game.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   +++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b/game.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -0,0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +1 @@</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   +print（</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;hello,world&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   \\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> No newline at end of file</span></span></code></pre></div><h2 id="基本操作" tabindex="-1">基本操作 <a class="header-anchor" href="#基本操作" aria-label="Permalink to &quot;基本操作&quot;">​</a></h2><h3 id="创建代码仓库的两种方法" tabindex="-1">创建代码仓库的两种方法 <a class="header-anchor" href="#创建代码仓库的两种方法" aria-label="Permalink to &quot;创建代码仓库的两种方法&quot;">​</a></h3><p>在本地创建仓库一般有两种方法：</p><ul><li>手动从 0 到 1 创建，并关联远程仓库。此方法较为麻烦，但在一些场合十分有用。</li><li>直接克隆已有的远程仓库到本地。此方法常用，简单易行。</li></ul><p>这两种方法都要求在 Github 提前创建远程仓库，为了演示方便，博主在 Github 上创建了一个测试仓库。</p><p>测试仓库地址：<code>git@github.com:qiuyeyijian/test.git</code></p><h4 id="手动创建" tabindex="-1">手动创建 <a class="header-anchor" href="#手动创建" aria-label="Permalink to &quot;手动创建&quot;">​</a></h4><ol><li>新建一个文件夹，然后进入到此文件夹下并打开终端</li><li>初始化 Git</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><ol start="3"><li>关联一个远程仓库，命名为<code>origin</code>，默认仓库以此命名。</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote add origin git@github.com:qiuyeyijian/test.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote -v		# 查看是否添加成功</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote rm origin		# 删除关联</span></span></code></pre></div><ol start="4"><li>同步远程所有分支</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch --all				# 此时只是同步分支信息而已</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull origin master		# 拉取远程主分支，此时会拉取远程分支master中的所有文件</span></span></code></pre></div><ol start="5"><li>将远程的主分支和我们本地的主分支关联起来</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch --set-upstream-to=origin/master</span></span></code></pre></div><blockquote><p>说明：</p><p><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;branch&gt; master</code></p><ul><li>remote 改成之前我们设置的远程仓库的名字，然后 branch 换成远程仓库的分支</li><li>master 是本地的 master 分支</li></ul></blockquote><p>至此创建完成，接下来就可以在此文件夹下编写代码并提交 Github，如何提交接下来也会说明。</p><h4 id="直接克隆远程分支到本地" tabindex="-1">直接克隆远程分支到本地 <a class="header-anchor" href="#直接克隆远程分支到本地" aria-label="Permalink to &quot;直接克隆远程分支到本地&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone git@github.com:qiuyeyijian/test.git</span></span></code></pre></div><p>Git 为了能进行版本控制，方便进行版本回退，会将用户所有修改记录保存到<code>.git</code> 文件夹下，时间久了就会导致记录文件很大。我们在克隆下载别人仓库的时候，可以只克隆最近一次提交记录即可，可以加快下载速度。只需要在后面加上<code>--depth 1</code>参数即可。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone git@github.com:qiuyeyijian/test.git --depth=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre></div><h3 id="提交远程仓库" tabindex="-1">提交远程仓库 <a class="header-anchor" href="#提交远程仓库" aria-label="Permalink to &quot;提交远程仓库&quot;">​</a></h3><p>我们在本地仓库编辑好代码后，就可以提交到远程仓库了，具体流程如下：</p><ol><li>添加所有修改到暂存区，注意 add 后面的点</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add .</span></span></code></pre></div><ol start="2"><li>为你的修改做一些说明</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit -m &quot;first commit&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //将first commit 替换成你的一些说明</span></span></code></pre></div><ol start="3"><li>推送到远程仓库的<code>master</code>分支</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin master</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 可以简写成，因为origin是默认远程仓库，master是默认主分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre></div><h3 id="同时关联-github-和-gitee-远程仓库" tabindex="-1">同时关联 Github 和 Gitee 远程仓库 <a class="header-anchor" href="#同时关联-github-和-gitee-远程仓库" aria-label="Permalink to &quot;同时关联 Github 和 Gitee 远程仓库&quot;">​</a></h3><p>利用<code>创建本地仓库</code>方法，我们的本地仓库已经关联了 Github 远程仓库，接下来将演示如何再添加一个 Gitee 远程仓库。博主已经提前在 Gitee 上创建好了测试仓库：<code>git@gitee.com:qiuyeyijian/test.git</code></p><ol><li>添加 Gitee 远程仓库</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote add gitee git@gitee.com:qiuyeyijian/test.git</span></span></code></pre></div><blockquote><p>说明：</p><p><code>git remote add &lt;远程仓库名&gt; url</code></p><ul><li><strong>远程仓库名</strong>可以随便起，容易记就行。</li><li>url 可以是 <code>https://</code>形式的，如果你添加了 ssh，就可以使用上面那种形式</li></ul></blockquote><ol start="2"><li>使用<code>git remote -v</code>查看所有远程分支，配置成功会出现：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gitee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   git@gitee.com:qiuyeyijian/test.git </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gitee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   git@gitee.com:qiuyeyijian/test.git </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  git@github.com:qiuyeyijian/test.git </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  git@github.com:qiuyeyijian/test.git </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ol start="3"><li>同步远程所有分支，即同步 Gitee 和 Github 所有分支</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch --all</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull gitee master --allow-unrelated-histories	# 拉取Gitee的master仓库分支内容</span></span></code></pre></div><blockquote><p>说明：</p><ul><li>拉取 gitee 上的远程分支，后面加的命令的意思是忽略版本不同，不然会报错<code>fatal: refusing to merge unrelated histories</code></li><li>如果有冲突的话就直接解决冲突，不在赘述</li></ul></blockquote><ol start="4"><li>至此，Gitee 远程仓库已经添加完毕。之后我们需要提交到远程仓库时：</li></ol><ul><li>提交到 Github</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin master		 #可以简写 git push</span></span></code></pre></div><ul><li>提交到 Gitee</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push gitee master		# 可以简写 git push gitee</span></span></code></pre></div><h3 id="克隆-x-的项目-一段时间后再次同步-x-的提交信息" tabindex="-1">克隆 X 的项目，一段时间后再次同步 X 的提交信息 <a class="header-anchor" href="#克隆-x-的项目-一段时间后再次同步-x-的提交信息" aria-label="Permalink to &quot;克隆 X 的项目，一段时间后再次同步 X 的提交信息&quot;">​</a></h3><ol><li>进入到自己项目，打开终端</li><li>添加原作者的远程仓库地址，习惯命名<code>upstream</code>，当然也可以自定义其他</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># git remote add [远程仓库名] [远程仓库地址]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote add upstream git@github.com:qiuyeyijian/Notes.git</span></span></code></pre></div><ol start="3"><li>将原作者仓库的所有分支同步到本地</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch upstream</span></span></code></pre></div><ol start="4"><li>将其中一个分支，比如<code>upstream/master</code>合并到自己本地的<code>master</code>分支</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout master</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge upstream/master</span></span></code></pre></div><ol start="5"><li>提交到自己的 Github 远程托管分支</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre></div><h2 id="分支管理" tabindex="-1">分支管理 <a class="header-anchor" href="#分支管理" aria-label="Permalink to &quot;分支管理&quot;">​</a></h2><h3 id="创建分支" tabindex="-1">创建分支 <a class="header-anchor" href="#创建分支" aria-label="Permalink to &quot;创建分支&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">分支</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">名</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                            # 创建分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">分支</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">名</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                          # 切换分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout -b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">分支</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">名</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                       # 创建并切换分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch -a								  # 查看所有分支</span></span></code></pre></div><h3 id="合并分支" tabindex="-1">合并分支 <a class="header-anchor" href="#合并分支" aria-label="Permalink to &quot;合并分支&quot;">​</a></h3><p>master 指针指向版本，HEAD 指向 master，每次提交 master 都会向前移一步，而 HEAD 跟随 master 移动。现在创建一个新的分支 dev，Git 就会新建一个指针 dev，并指向 master 指向的内容，并且把 HEAD 指向 dev，表示 dev 是当前使用的分支。那么此时，我们在工作区的修改和提交就会在 dev 分支上进行，每一次提交，dev 分支就会向前移动一步，而 master 分支不变。如果 dev 分支上的内容开发完毕，就需要合并两个分支，最简单的方法就是直接将 master 的指针指向 dev 分支指向的内容。 master 指针指向版本，HEAD 指向 master，每次提交 master 都会向前移一步，而 HEAD 跟随 master 移动。现在创建一个新的分支 dev，Git 就会新建一个指针 dev，并指向 master 指向的内容，并且把 HEAD 指向 dev，表示 dev 是当前使用的分支。那么此时，我们在工作区的修改和提交就会在 dev 分支上进行，每一次提交，dev 分支就会向前移动一步，而 master 分支不变。如果 dev 分支上的内容开发完毕，就需要合并两个分支，最简单的方法就是直接将 master 的指针指向 dev 分支指向的内容。</p><p>场景：假如我们在本地仓库创建一个<code>dev</code>分支，并在此分支下开发软件，完成后提交的远程仓库。现在我们希望将<code>dev</code>分支合并到<code>master</code>主分支。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout -b dev			# 创建dev分支，在此分支下开发程序</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add . 					# 将程序提交到暂存区</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit -m &quot;dev&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 编写提交信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push		            # 推送到远程仓库的dev分支</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout master			# 切换到主分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge dev				# 将dev合并到主分支，如果遇到冲突就解决</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push					# 合并完成推送到远程仓库</span></span></code></pre></div><p>另外可以使用下面命令创建一个匿名分支。可以用来做实验，切换到主分支后，匿名分支不会保存。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout HEAD~</span></span></code></pre></div><p>在执行合并时，使用<code>--strategy-option=theirs</code>选项来指定使用远程分支的更改：</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git merge dev </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">option</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">theirs</span></span></code></pre></div><p>这样，如果合并时发生冲突，Git会直接选择远程分支的更改，从而不需要手动解决冲突。</p><h3 id="删除分支" tabindex="-1">删除分支 <a class="header-anchor" href="#删除分支" aria-label="Permalink to &quot;删除分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch -a				# 查看所有分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout master			# 切换到主分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch -d dev			# 删除本地分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin --delete dev	# 删除远程分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch -a				# 查看所有分支</span></span></code></pre></div><p>如果报错：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unable to delete &#39;dev&#39;: remote ref does not exist</span></span></code></pre></div><p>说明 remote 端已经删掉（比如在合并 master 时删除了），为什么用 git branch -av 还是能看到呢？ 其实我们看到的，只是前面用 git fetch 保存到本地的缓存信息而已。可以执行命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch --prune origin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者 git fetch --p origin</span></span></code></pre></div><p>这时候，再执行 git branch -a ，已经看不到 remote 的 dev 这个分支了</p><h3 id="重命名分支" tabindex="-1">重命名分支 <a class="header-anchor" href="#重命名分支" aria-label="Permalink to &quot;重命名分支&quot;">​</a></h3><p><strong>本地分支重命名</strong></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch -m old-name new-name</span></span></code></pre></div><p><strong>远程分支重命名</strong></p><blockquote><ul><li>1、将远程分支删除掉</li><li>2、将本地分支重命名</li><li>3、将本地分支推到远程</li></ul></blockquote><p>比如：将远程的 dev 重命名为 develop</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> origin dev</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git branch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m dev develop</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push origin develop</span></span></code></pre></div><h3 id="拉取指定分支" tabindex="-1">拉取指定分支 <a class="header-anchor" href="#拉取指定分支" aria-label="Permalink to &quot;拉取指定分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch origin dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull --all</span></span></code></pre></div><h2 id="进阶操作" tabindex="-1">进阶操作 <a class="header-anchor" href="#进阶操作" aria-label="Permalink to &quot;进阶操作&quot;">​</a></h2><h3 id="修改最后一次提交" tabindex="-1">修改最后一次提交 <a class="header-anchor" href="#修改最后一次提交" aria-label="Permalink to &quot;修改最后一次提交&quot;">​</a></h3><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git commit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">amend</span></span></code></pre></div><h3 id="删除文件" tabindex="-1">删除文件 <a class="header-anchor" href="#删除文件" aria-label="Permalink to &quot;删除文件&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset --soft HEAD~                      //回退当前指针</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm -f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                       //暴力删除工作目录和暂存区的文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm --cached </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 //只删除暂存区域的文件</span></span></code></pre></div><h3 id="解决合并冲突" tabindex="-1">解决合并冲突 <a class="header-anchor" href="#解决合并冲突" aria-label="Permalink to &quot;解决合并冲突&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status         //查看状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //查看冲突文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //修复冲突文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     //单独添加冲突文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit -m &quot;confict fixed&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log --graph --pretty=oneline --abbrev-commit          //查看分支合并情况</span></span></code></pre></div><h3 id="忽略某些文件" tabindex="-1">忽略某些文件 <a class="header-anchor" href="#忽略某些文件" aria-label="Permalink to &quot;忽略某些文件&quot;">​</a></h3><p>首先在 git 仓库下新建一个<code>.gitignore</code>文件，然后在里面添加你想忽略的目录，一行代表一个规则。然后提交到远程仓库。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm -r --cached .				//注意后面的点，意思是删除全部缓存，</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit -a -m &quot;添加忽略文件“</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">git push</span></span></code></pre></div><h2 id="tag-标签" tabindex="-1">Tag 标签 <a class="header-anchor" href="#tag-标签" aria-label="Permalink to &quot;Tag 标签&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag					# 查看标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">标签名</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">称</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		 # 创建一个标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag -a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">标签名</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">称</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 # 创建一个带注解的标签，会打开编辑器输入</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag -a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">标签名</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">称</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;注解信息&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 创建一个带注解的标签，直接指定注解信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag -d 标签名	 	  # 删除本地标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin :refs/tags/标签名		# 将删除的本地标签推送到远程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin 标签名   # 推送远程标签</span></span></code></pre></div><h2 id="版本回退" tabindex="-1">版本回退 <a class="header-anchor" href="#版本回退" aria-label="Permalink to &quot;版本回退&quot;">​</a></h2><h3 id="reset" tabindex="-1">reset <a class="header-anchor" href="#reset" aria-label="Permalink to &quot;reset&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log --pretty</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset --hard commit_id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push origin HEAD --force</span></span></code></pre></div><p>开发中建议使用<code>git revert</code></p><h3 id="revert" tabindex="-1">revert <a class="header-anchor" href="#revert" aria-label="Permalink to &quot;revert&quot;">​</a></h3><p>git revert 命令用来撤销某次操作，此次操作之前和之后的 commit 和 history 都会保留，并且把这次撤销作为一次最新的提交。</p><h3 id="撤销-reset-本身操作" tabindex="-1">撤销 reset 本身操作 <a class="header-anchor" href="#撤销-reset-本身操作" aria-label="Permalink to &quot;撤销 reset 本身操作&quot;">​</a></h3><p>1、查看所有操作日志</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reflog show</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log -g</span></span></code></pre></div><p>2、恢复到一个新的分支上</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch recover_branch commitid</span></span></code></pre></div><h2 id="commit-提交规范" tabindex="-1">Commit 提交规范 <a class="header-anchor" href="#commit-提交规范" aria-label="Permalink to &quot;Commit 提交规范&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span></span></code></pre></div><p>type，必选。commit 的类别，只允许如下几种标识。</p><p>scope，可选。是本次提交影响范围。可以是：问题 ID / 模块名称 / 需求 ID / 变更号。</p><p>subject，必选。是对本次提交的简短描述。不超过 50 个字符。推荐以动词开头，如： 设置、修改、增加、删减、撤销等。</p><table><thead><tr><th>type</th><th>subject</th></tr></thead><tbody><tr><td><code>feat</code></td><td>功能feature的意思，也是最常用的。对应实际业务代码变动。比如增加或者修改一些业务处理函数，接口等</td></tr><tr><td><code>fix</code></td><td>对应因修复bug而产生的业务代码变动。</td></tr><tr><td><code>chore</code></td><td>其他改动。比如一些注释修改或者文件清理。不影响src和test里面实际代码的，都可以放在这里</td></tr><tr><td><code>test</code></td><td>对应测试代码变动，比如增加或者修改测试用例</td></tr><tr><td><code>refactor</code></td><td>重构代码。指的是代码结构的调整，比如使用了一些设计模式重新组织了代码</td></tr><tr><td><code>style</code></td><td>代码格式调整，比如执行了format、更改了tab显示，代码命名风格变动等，没有功能性的变动。</td></tr><tr><td><code>docs</code></td><td>更新了文档，或者更新了注释</td></tr><tr><td><code>revert</code></td><td>回滚了一些前面的代码</td></tr><tr><td><code>build</code></td><td>影响编译的一些更改，比如更改了maven插件、增加了npm的过程等</td></tr><tr><td><code>revert</code></td><td>回滚了一些前面的代码</td></tr><tr><td><code>ci</code></td><td>持续集成方面的更改。现在有些build系统喜欢把ci功能使用yml描述。如有这种更改，建议使用ci</td></tr><tr><td><code>perf</code></td><td>对项目或者模块进行了性能优化。比如一些jvm的参数改动，把stringbuffer改为stringbuilder等</td></tr></tbody></table><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>git commit -m&quot;feat(someip): 增加xxx传输方式，修改xxx接口&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>git commit -m&quot;fix(#5834): 修复inproc通信EM_ComAgent_Send第5次时返回失败问题&quot;</span></span></code></pre></div><h2 id="changelog-规范" tabindex="-1">CHANGELOG 规范 <a class="header-anchor" href="#changelog-规范" aria-label="Permalink to &quot;CHANGELOG 规范&quot;">​</a></h2><h3 id="版本-2022-08-08" tabindex="-1">[版本] (2022-08-08) <a class="header-anchor" href="#版本-2022-08-08" aria-label="Permalink to &quot;[版本] (2022-08-08)&quot;">​</a></h3><h4 id="bug-fixes" tabindex="-1">Bug Fixes <a class="header-anchor" href="#bug-fixes" aria-label="Permalink to &quot;Bug Fixes&quot;">​</a></h4><h3 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h3><h2 id="gitignore" tabindex="-1">Gitignore <a class="header-anchor" href="#gitignore" aria-label="Permalink to &quot;Gitignore&quot;">​</a></h2><p>在一些项目中，我们不想让本地仓库的所有文件都上传到远程仓库中，而是有选择的上传，比如：一些依赖文件（node_modules下的依赖）、bin 目录下的文件、测试文件等。一方面将一些依赖、测试文件都上传到远程传输量很大，另一方面，一些文件对于你这边是可用的，在另一个人那可能就不可用了，比如：本地配置文件。</p><p>为了解决上述问题，git 引入了 .gitignore 文件，使用该文件来选择性的上传文件。</p><p><code>.gitignore</code>可以使用注释，以<code>#</code>开头。</p><h3 id="仅忽略文件" tabindex="-1">仅忽略文件 <a class="header-anchor" href="#仅忽略文件" aria-label="Permalink to &quot;仅忽略文件&quot;">​</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件，但不会忽略名字为<code>foo</code>的文件夹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>foo</span></span>
<span class="line"><span>!foo/</span></span></code></pre></div><h3 id="仅忽略目录" tabindex="-1">仅忽略目录 <a class="header-anchor" href="#仅忽略目录" aria-label="Permalink to &quot;仅忽略目录&quot;">​</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件夹，包括<code>foo</code>本身及其子文件夹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>foo/</span></span></code></pre></div><h3 id="忽略目录和文件" tabindex="-1">忽略目录和文件 <a class="header-anchor" href="#忽略目录和文件" aria-label="Permalink to &quot;忽略目录和文件&quot;">​</a></h3><p>在<code>.gitignore</code>添加下面的内容会让git忽略名字为<code>foo</code>的文件夹和文件。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>foo</span></span></code></pre></div><h3 id="使用通配符" tabindex="-1">使用通配符 <a class="header-anchor" href="#使用通配符" aria-label="Permalink to &quot;使用通配符&quot;">​</a></h3><p>常用的通配符有：</p><p>（1）星号<code>*</code> ：匹配多个字符；</p><p>（2）问号<code>?</code>：匹配除 ‘/’外的任意一个字符；</p><p>（3）方括号<code>[abc...]</code>：匹配多个列表中的字符；</p><p>忽略本项目下的所有以<code>.a</code>、<code>.s</code>、<code>.i</code>结尾的文件和文件夹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>*.[asi]</span></span></code></pre></div><h3 id="反向操作" tabindex="-1">反向操作 <a class="header-anchor" href="#反向操作" aria-label="Permalink to &quot;反向操作&quot;">​</a></h3><p>之前忽略的匹配模式再次包含在跟踪内容里。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>!匹配模式</span></span></code></pre></div><p>忽略除<code>src</code>目录以外的所有文件和文件夹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>*</span></span>
<span class="line"><span>!src/</span></span></code></pre></div><h3 id="双星号" tabindex="-1">双星号 <a class="header-anchor" href="#双星号" aria-label="Permalink to &quot;双星号&quot;">​</a></h3><p>斜杠后紧跟两个连续的星号<code>**</code>，表示多级目录。</p><p>递归忽略<code>src</code>目录及其子目录下的所有名字为<code>foo</code>的文件和文件夹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>src/**/foo</span></span></code></pre></div><h3 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h3><p>（1）空行不匹配任何文件；</p><p>（2）git 跟踪文件，而不是目录；</p><p>（3）在 .gitignore 文件中，每行表示一种模式；</p><p>（4）如果本地仓库文件已被跟踪，那么即使在 .gitignore 中设置了忽略，也不起作用。</p><p>（5）.gitignore 文件也会被上传的到远程仓库，所以，同一个仓库的人可以使用同一个.gitignore 文件。</p><h2 id="其他-1" tabindex="-1">其他 <a class="header-anchor" href="#其他-1" aria-label="Permalink to &quot;其他&quot;">​</a></h2><h3 id="放弃本地修改-重新拉去远程分支" tabindex="-1">放弃本地修改，重新拉去远程分支 <a class="header-anchor" href="#放弃本地修改-重新拉去远程分支" aria-label="Permalink to &quot;放弃本地修改，重新拉去远程分支&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>git fetch --all</span></span>
<span class="line"><span>git reset --hard origin/master(master可修改为对应分支名)</span></span></code></pre></div><h3 id="区分大小写" tabindex="-1">区分大小写 <a class="header-anchor" href="#区分大小写" aria-label="Permalink to &quot;区分大小写&quot;">​</a></h3><p>Git 默认情况下不会区分文件名的大小写，这也是类 Unix 操作系统的一个特点。这意味着，如果你在同一个 Git 仓库中创建了两个文件，一个叫做 &quot;file.txt&quot;，另一个叫做 &quot;File.txt&quot;，Git 会将它们视为同一个文件。 不过，如果你希望 Git 区分文件名大小写，可以通过设置 Git 的配置来实现。你可以在 Git 仓库的根目录下的 &quot;.git/config&quot; 文件中添加以下内容：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[core]</span></span>
<span class="line"><span>    ignorecase = false</span></span></code></pre></div><h3 id="更改默认编辑器" tabindex="-1">更改默认编辑器 <a class="header-anchor" href="#更改默认编辑器" aria-label="Permalink to &quot;更改默认编辑器&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config --global --replace core.editor &quot;code --wait&quot;</span></span></code></pre></div><h3 id="使用token方式克隆" tabindex="-1">使用token方式克隆 <a class="header-anchor" href="#使用token方式克隆" aria-label="Permalink to &quot;使用token方式克隆&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>git clone https://oauth2:access_token@github.com/username/xxx.git</span></span></code></pre></div>`,191),h=[n];function p(d,k,o,r,c,g){return a(),i("div",null,h)}const y=s(l,[["render",p]]);export{u as __pageData,y as default};
