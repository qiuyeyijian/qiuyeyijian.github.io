import{_ as s,o as a,c as n,U as l}from"./chunks/framework.adbdbaa5.js";const F=JSON.parse('{"title":"CMake","description":"","frontmatter":{},"headers":[],"relativePath":"articles/Tools/CMake/index.md","filePath":"articles/Tools/CMake/index.md"}'),p={name:"articles/Tools/CMake/index.md"},o=l(`<h1 id="cmake" tabindex="-1">CMake <a class="header-anchor" href="#cmake" aria-label="Permalink to &quot;CMake&quot;">​</a></h1><p><a href="https://blog.csdn.net/zhanglehes/article/details/125672388" target="_blank" rel="noreferrer">Cmake常用命令（三）_cmake判断目录存在-CSDN博客</a></p><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cmake -DCMAKE_INSTALL_PREFIX=/</span><span style="color:#89DDFF;">path</span><span style="color:#A6ACCD;">/to/install ..</span></span>
<span class="line"><span style="color:#A6ACCD;">cmake --build . --config Release --</span><span style="color:#89DDFF;">target</span><span style="color:#A6ACCD;"> install</span></span>
<span class="line"><span style="color:#89DDFF;">set</span><span style="color:#A6ACCD;">(CMAKE_PREFIX_PATH </span><span style="color:#C3E88D;">&quot;/path/to/MyPackage1;/path/to/MyPackage2&quot;</span><span style="color:#A6ACCD;"> \${CMAKE_PREFIX_PATH})</span></span>
<span class="line"><span style="color:#89DDFF;">find_package</span><span style="color:#A6ACCD;">(MyLibrary REQUIRED)</span></span></code></pre></div><div class="language-cmake"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;">(find_all_libraries LIBRARIES SEARCH_PATH)</span></span>
<span class="line"><span style="color:#89DDFF;">  file</span><span style="color:#A6ACCD;">(GLOB_RECURSE LIBRARY_PATHS </span><span style="color:#C3E88D;">&quot;\${SEARCH_PATH}/*.so&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;\${SEARCH_PATH}/*.a&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  foreach</span><span style="color:#A6ACCD;">(library \${LIBRARIES})</span></span>
<span class="line"><span style="color:#89DDFF;">    set</span><span style="color:#A6ACCD;">(library_path </span><span style="color:#C3E88D;">&quot;&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    foreach</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">path</span><span style="color:#A6ACCD;"> \${LIBRARY_PATHS})</span></span>
<span class="line"><span style="color:#89DDFF;">      get_filename_component</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;\${path}&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">NAME</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">      if</span><span style="color:#A6ACCD;">(</span><span style="color:#C3E88D;">&quot;\${name}&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">MATCHES</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;^lib\${library}.*</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">.so$&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">OR</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;\${name}&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">MATCHES</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;^lib\${library}.*</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">.a$&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">        set</span><span style="color:#A6ACCD;">(library_path </span><span style="color:#C3E88D;">&quot;\${path}&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">        break</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">      else</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">      endif</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">    endforeach</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">    if</span><span style="color:#A6ACCD;">(library_path)</span></span>
<span class="line"><span style="color:#89DDFF;">      message</span><span style="color:#A6ACCD;">(STATUS </span><span style="color:#C3E88D;">&quot;Found \${library}: \${library_path}&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">      list</span><span style="color:#A6ACCD;">(APPEND LIBRARY_PATHS_FOUND </span><span style="color:#C3E88D;">&quot;\${library_path}&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    else</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">      message</span><span style="color:#A6ACCD;">(FATAL_ERROR </span><span style="color:#C3E88D;">&quot;Cannot find \${library}&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    endif</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">  endforeach</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;">  set</span><span style="color:#A6ACCD;">(LIBRARY_PATHS_FOUND \${LIBRARY_PATHS_FOUND} PARENT_SCOPE)</span></span>
<span class="line"><span style="color:#89DDFF;">  link_directories</span><span style="color:#A6ACCD;">(\${LIBRARY_PATHS_FOUND})</span></span>
<span class="line"><span style="color:#89DDFF;">endfunction</span><span style="color:#A6ACCD;">()</span></span></code></pre></div>`,4),e=[o];function t(c,r,C,D,A,y){return a(),n("div",null,e)}const _=s(p,[["render",t]]);export{F as __pageData,_ as default};
