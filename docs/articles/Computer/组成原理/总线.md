# 总线

## 基本概念



### 总线事务

是一种连续的、成批数据传送方式。只需要在传送开始时给出数据块的首地址，然后连续传送多个数据，后续的数据的地址被默认认为前面数据地址加1。实际上这些连续数据一般在存储阵列的同一行上。

在存储器中有一个行缓冲，一次读出一行数据，后面的数据只要从行缓冲源源不断地取出即可。所以这种方式能够实现一个时钟传送一个或两个数据。也成为背对背传送方式。



### 总线传输周期

指总线上完成一次总线事务所用时间，通常它由若干个总线时钟周期组成，简称总线周期。



### 总线带宽

总线的最大数据传输速率。
$$
总线带宽 = \frac {时钟频率} {传输一个数据的时钟周期数} \times 总线宽度
$$

### 定时方式

按照总线上信息传送的定时方式来分，有同步通信、异步通信和半同步通信3类。

同步通信总线由时钟信号同步；异步通信总线指前一个信号的结束就是下一个信号的开始，信息的改变是顺序的。半同步是二者的结合。

### 传送方式

总线上数据传送分为非突发传送和突发传送两种。

### 总线复用

不同信号在同一信号线上分时传输的方式称为（总线复用方式）。

分离事务通信是总线复用的一种，相比单一的传输线路可以提高总线的利用率。





**1.某同步总线的时钟频率为100MHz，宽度为32位，地址/数据线复用，每传输一个地址或数据占用一个时钟周期。若该总线支持突发（猝发）传输方式，则一次"主存写"总线事务传输128位数据所需要的时间至少是（50ns）。**
传送地址10ns，传送128位数据40ns，共需 50ns。

**2.一次总线事务中，主设备只需给出一个首地址，从设备就能从首地址开始的若干连续单元读出或写入多个数据。这种总线事务方式称为（ 突发传输）。**

**3.单周期处理器是指所有指令的指令周期为一个时钟周期：**

不可以采用单总线结构，单总线结构不支持并行。

在指令执行过程中控制信号不变。每条指令的CPI为1。由于要考虑执行慢的指令，所以处理器时钟频率较低才能保证每条指令CPI为1。


**5.提高总线数据传输率的是：增加总线宽度、提高总线工作频率、支持突发传输。**
采用地址/数据线复用只是减少了线的数量，节省了成本，并不能提高传输率。

**6.总线忙的建立者是：获得总线控制权的设备。**

**7.在计数器定时查询方式下，总线设备的优先级可变。**
数值从"0"开始，则离总线控制器最近的设备具有最高的优先级。若计数值从上一次的中止点开始，则各个设备使用总线的机会均等。

**8.异步总线：**
在异步方式下，没有公用的时钟，完全依靠传送双方相互制约的"握手"信号来实现定时控制。传送操作是由双方**按需求分配时间**的。**不采用时钟信号，只采用握手信号。**

